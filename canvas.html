<!DOCTYPE html>
<html lang="en" from>

<head>
    <style cmp>
        .canvas_wrapper {}
    </style>
    <script>
        var _width = 500
        var _height = 500

        canva = document.querySelector('style[cmp]');
        canva = (canva.sheet.rules || canva.sheet.cssRules)[0]
        if (canva) {
            canva = canva.style
            canva.width = `${_width}px`
            canva.height = `${_height}px`
        } else {
            canva.textContent = `
                    .canvas_wrapper {
                       width: ${_width}px;
                        height: ${_height}px;
                     }`;
        }

        window.previousInnerWidth = innerWidth
        window.previousInnerHeight = innerHeight

        var _innerWidth = innerWidth
        var _innerHeight = innerHeight

        var canvas_events;
        if (window.navigator.userAgent.match(/Mobile|Android/)) {
            document.documentElement.setAttribute('from', 'mobile')
            canvas_events = {
                mousemove: "ontouchmove",
                mouseup: "ontouchend",
                mousedown: "ontouchstart",
                mouseleave: "ontouchcancel"
            };
        } else {
            document.documentElement.setAttribute('from', 'pc')
            canvas_events = {
                mousemove: "onmousemove",
                mouseup: "onmouseup",
                mousedown: "onmousedown",
                mouseleave: "onmouseleave"
            }
        }

        window.onresize = function (ev) {
            if (window.navigator.userAgent.match(/Mobile|Android/)) {
                document.documentElement.setAttribute('from', 'mobile')
            } else {
                document.documentElement.setAttribute('from', 'pc')
            }

            if (window.canvas_board) {
                _innerWidth = canvas_board.offsetWidth
                _innerHeight = canvas_board.offsetHeight
            }

            var zoom

            if (false) {

            }

            else if ((_width > _innerWidth && _innerHeight > _innerWidth)) {
                zoom = _innerWidth / _width
            } else if (_height > _innerHeight && _innerWidth > _innerHeight) {
                zoom = _innerHeight / _height
            }

            else if (_width > _innerWidth || _innerHeight > _innerWidth) {
                zoom = _innerWidth / _width
                console.log(1);
            } else if (_height > _innerHeight || _innerWidth > _innerHeight) {
                zoom = _innerHeight / _height
                console.log(2);
            }


            if (zoom >= 1) {
                zoom = 1
            }

            if (typeof zoom === "number") {
                if (_height > _innerHeight || _width > _innerWidth) {
                    zoom -= 0.05
                }
                if (!canva) {
                    canva = canvas_wrapper.style
                }
                if(canva.hasOwnProperty('zoom')){
                    canva.zoom = zoom
                    document.documentElement.setAttribute("zoom","true")
                }else{
                    document.documentElement.setAttribute("zoom","false")
                    canva.scale = zoom
                }
            }

            window.previousInnerWidth = innerWidth
            window.previousInnerHeight = innerHeight
        }

    </script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./style/main.css">
    <link rel="stylesheet" href="./style/canva.css">
    <link rel="stylesheet" href="./style/UI.css">
    <link rel="stylesheet" href="./style/chrom-scroll.css">
    <script src="./lib/nimo-DB.js"></script>
    <script src="./script/db.js"></script>
    <title>Canvas</title>
</head>

<body>

    <nav>
        hello
    </nav>
    <article>
        <header>
            <h1 center ellipsis>Canva</h1>
        </header>
        <main class="canvas_board">
            <div class="canvas_wrapper" hidden>
            </div>
        </main>
        <footer>
            <div class="ft">
                <div image="add" onclick="getImage()">
                    <div class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-image">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <circle cx="8.5" cy="8.5" r="1.5"></circle>
                            <polyline points="21 15 16 10 5 21"></polyline>
                        </svg>
                    </div>
                    <span class="span">Import Image</span>
                </div>
                <div image="remove" onclick="remove()">
                    <div class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-trash">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                            </path>
                        </svg>
                    </div>
                    <span class="span">Remove Image</span>
                </div>
                <div image="clone" onclick="clone()">
                    <div class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-copy">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                    </div>
                    <span class="span">Clone</span>
                </div>
                <div image="text" onclick="getText()">
                    <div class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-type">
                            <polyline points="4 7 4 4 20 4 20 7"></polyline>
                            <line x1="9" y1="20" x2="15" y2="20"></line>
                            <line x1="12" y1="4" x2="12" y2="20"></line>
                        </svg>
                    </div>
                    <span class="span">Text</span>
                </div>
                <div image="move up" onclick="Zindex(1)">
                    <div class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-layers">
                            <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
                            <polyline points="2 17 12 22 22 17"></polyline>
                            <polyline points="2 12 12 17 22 12"></polyline>
                        </svg>
                    </div>
                    <span class="span">Move up</span>
                </div>
                <div image="move down" onclick="Zindex(-1)">
                    <div class="icon" invertx>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-layers" xmlns="http://www.w3.org/2000/svg">
                            <defs id="defs12" />
                            <polyline points="2 17 12 22 22 17" id="polyline2" transform="rotate(178.4735,12,12)" />
                            <polyline points="2 12 12 17 22 12" id="polyline4" transform="rotate(178.4735,12,12)" />
                            <polygon points="2,7 12,12 22,7 12,2 " id="polygon6" transform="rotate(178.4735,12,12)" />
                        </svg>
                    </div>
                    <span class="span">Move down</span>
                </div>
                <div image="more" onclick="">
                    <div class="icon" invertx>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"
                            stroke="currentColor" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-more-horizontal">
                            <circle cx="12" cy="12" r="1"></circle>
                            <circle cx="19" cy="12" r="1"></circle>
                            <circle cx="5" cy="12" r="1"></circle>
                        </svg>
                    </div>
                    <span class="span">more</span>
                </div>
            </div>
        </footer>
    </article>
    <script>
        var canvas_wrapper = document.querySelector('.canvas_wrapper'),
            canvas_board = document.querySelector('.canvas_board'),
            footer = document.querySelector('footer');
        window.onresize()
        canvas_wrapper.removeAttribute('hidden')
        setTimeout(function () {
            document.documentElement.setAttribute('ready', 'true')
        }, 1200)
    </script>
    <script src="script/main copy.js"></script>
</body>
<script>
var full=0
onclick=function(){
    if (full) {
        onclick=null
    }
    if (document.documentElement.requestFullscreen) {
document.body.requestFullscreen()
full=1
}
}
</script>

</html>